<UserControl x:Class="SLICE_System.Views.CookingAnimationView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:fa="http://schemas.fontawesome.io/icons/"
             Background="#E6050505">

    <UserControl.Resources>
        <ControlTemplate x:Key="RealPizza">
            <Grid Width="200" Height="200">
                <Ellipse Width="195" Height="195" Fill="#8D6E63" Margin="2,2,0,0"/>
                <Ellipse Width="190" Height="190" Fill="#E67E22" Stroke="#D35400" StrokeThickness="4"/>
                <Ellipse Width="170" Height="170" Fill="#F1C40F"/>
                <Ellipse Width="160" Height="160" Fill="#F39C12" Opacity="0.5"/>
                <Canvas>
                    <Ellipse Width="30" Height="30" Fill="#C0392B" Canvas.Left="60" Canvas.Top="50"/>
                    <Ellipse Width="30" Height="30" Fill="#C0392B" Canvas.Left="120" Canvas.Top="70"/>
                    <Ellipse Width="30" Height="30" Fill="#C0392B" Canvas.Left="90" Canvas.Top="120"/>
                    <Ellipse Width="30" Height="30" Fill="#C0392B" Canvas.Left="40" Canvas.Top="100"/>
                    <Ellipse Width="30" Height="30" Fill="#C0392B" Canvas.Left="130" Canvas.Top="130"/>
                    <Path Data="M0,10 Q10,0 20,10" Stroke="#27AE60" StrokeThickness="3" Canvas.Left="80" Canvas.Top="80"/>
                    <Path Data="M0,10 Q10,0 20,10" Stroke="#27AE60" StrokeThickness="3" Canvas.Left="110" Canvas.Top="110"/>
                </Canvas>
            </Grid>
        </ControlTemplate>

        <Geometry x:Key="FlameGeo">M 20,100 Q 0,60 15,30 Q 25,0 45,30 Q 60,60 50,100 Z</Geometry>

        <Storyboard x:Key="CookingStory">

            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="PeelTrans" Storyboard.TargetProperty="X">
                <DiscreteDoubleKeyFrame KeyTime="0:0:0" Value="0"/>
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="PizzaTrans" Storyboard.TargetProperty="X">
                <DiscreteDoubleKeyFrame KeyTime="0:0:0" Value="0"/>
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimation Storyboard.TargetName="FireGroup" Storyboard.TargetProperty="Opacity" To="0" Duration="0:0:0"/>
            <DoubleAnimation Storyboard.TargetName="txtStatus" Storyboard.TargetProperty="Opacity" To="0" Duration="0:0:0"/>


            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="PeelTrans" Storyboard.TargetProperty="X">
                <SplineDoubleKeyFrame KeyTime="0:0:1.0" Value="-550" KeySpline="0.2,0 0.2,1"/>
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="PizzaTrans" Storyboard.TargetProperty="X">
                <SplineDoubleKeyFrame KeyTime="0:0:1.0" Value="-550" KeySpline="0.2,0 0.2,1"/>
            </DoubleAnimationUsingKeyFrames>


            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="PeelTrans" Storyboard.TargetProperty="X" BeginTime="0:0:1.2">
                <SplineDoubleKeyFrame KeyTime="0:0:0.4" Value="0" KeySpline="0.5, 0, 0.5, 1"/>
            </DoubleAnimationUsingKeyFrames>


            <DoubleAnimation Storyboard.TargetName="FireGroup" Storyboard.TargetProperty="Opacity" To="1" Duration="0:0:0.5" BeginTime="0:0:1.5"/>
            <DoubleAnimation Storyboard.TargetName="txtStatus" Storyboard.TargetProperty="Opacity" To="1" Duration="0:0:0.5" BeginTime="0:0:1.5"/>
            <StringAnimationUsingKeyFrames Storyboard.TargetName="txtStatus" Storyboard.TargetProperty="Text" BeginTime="0:0:1.5">
                <DiscreteStringKeyFrame Value="FIRE ROASTING..." KeyTime="0:0:0"/>
            </StringAnimationUsingKeyFrames>


            <DoubleAnimation Storyboard.TargetName="F1Scale" Storyboard.TargetProperty="ScaleY" 
                             From="0.8" To="1.2" Duration="0:0:0.15" AutoReverse="True" RepeatBehavior="Forever" BeginTime="0:0:1.5"/>
            <DoubleAnimation Storyboard.TargetName="F2Scale" Storyboard.TargetProperty="ScaleY" 
                             From="0.9" To="1.1" Duration="0:0:0.2" AutoReverse="True" RepeatBehavior="Forever" BeginTime="0:0:1.5"/>
            <DoubleAnimation Storyboard.TargetName="F3Scale" Storyboard.TargetProperty="ScaleY" 
                             From="0.7" To="1.3" Duration="0:0:0.1" AutoReverse="True" RepeatBehavior="Forever" BeginTime="0:0:1.5"/>

            <DoubleAnimation Storyboard.TargetName="FireGlow" Storyboard.TargetProperty="Opacity" 
                             From="0.5" To="0.9" Duration="0:0:0.2" AutoReverse="True" RepeatBehavior="Forever" BeginTime="0:0:1.5"/>


            <StringAnimationUsingKeyFrames Storyboard.TargetName="txtStatus" Storyboard.TargetProperty="Text" BeginTime="0:0:4.5">
                <DiscreteStringKeyFrame Value="ORDER COMPLETED!" KeyTime="0:0:0"/>
            </StringAnimationUsingKeyFrames>

        </Storyboard>
    </UserControl.Resources>

    <Grid>
        <Grid Width="800" Height="500" VerticalAlignment="Center" HorizontalAlignment="Center">

            <Border Background="#100505" CornerRadius="150,150,0,0" Margin="50,50,50,0" BorderBrush="#3E2723" BorderThickness="0,0,0,10">
                <Grid ClipToBounds="True">
                    <Grid x:Name="FireGroup" Opacity="0">
                        <Ellipse x:Name="FireGlow" Width="600" Height="300" Fill="#FF5722" VerticalAlignment="Bottom" Margin="0,0,0,-50">
                            <Ellipse.Effect>
                                <BlurEffect Radius="80"/>
                            </Ellipse.Effect>
                        </Ellipse>

                        <Canvas x:Name="FirePit" HorizontalAlignment="Center" VerticalAlignment="Bottom" Width="400" Height="150" Margin="0,0,0,20">

                            <Path Data="{StaticResource FlameGeo}" Fill="#D32F2F" Height="120" Width="60" Stretch="Fill" Canvas.Left="100" Canvas.Top="20" RenderTransformOrigin="0.5,1">
                                <Path.RenderTransform>
                                    <ScaleTransform x:Name="F1Scale" ScaleY="1"/>
                                </Path.RenderTransform>
                                <Path.Effect>
                                    <BlurEffect Radius="10"/>
                                </Path.Effect>
                            </Path>

                            <Path Data="{StaticResource FlameGeo}" Fill="#FFEB3B" Height="90" Width="50" Stretch="Fill" Canvas.Left="145" Canvas.Top="50" RenderTransformOrigin="0.5,1">
                                <Path.RenderTransform>
                                    <ScaleTransform x:Name="F2Scale" ScaleY="1"/>
                                </Path.RenderTransform>
                                <Path.Effect>
                                    <BlurEffect Radius="5"/>
                                </Path.Effect>
                            </Path>

                            <Path Data="{StaticResource FlameGeo}" Fill="#FF5722" Height="130" Width="70" Stretch="Fill" Canvas.Left="190" Canvas.Top="10" RenderTransformOrigin="0.5,1">
                                <Path.RenderTransform>
                                    <ScaleTransform x:Name="F3Scale" ScaleY="1"/>
                                </Path.RenderTransform>
                                <Path.Effect>
                                    <BlurEffect Radius="15"/>
                                </Path.Effect>
                            </Path>
                        </Canvas>
                    </Grid>
                </Grid>
            </Border>

            <Path Data="M 100,450 L 700,450 L 750,500 L 50,500 Z" Fill="#5D4037" VerticalAlignment="Bottom"/>

            <Canvas x:Name="ActionStage" ClipToBounds="True" Margin="50,50,50,0">
                <Grid x:Name="Peel" Width="600" Height="60" Canvas.Top="350" Canvas.Left="800">
                    <Grid.RenderTransform>
                        <TranslateTransform x:Name="PeelTrans" X="0"/>
                    </Grid.RenderTransform>
                    <Rectangle Width="400" Height="15" Fill="#8D6E63" HorizontalAlignment="Right" RadiusX="5" RadiusY="5"/>
                    <Path Data="M0,5 L200,5 L220,60 L-20,60 Z" Fill="#A1887F" HorizontalAlignment="Left" Width="240"/>
                </Grid>

                <Control x:Name="PizzaParams" Template="{StaticResource RealPizza}" Canvas.Top="270" Canvas.Left="820">
                    <Control.RenderTransform>
                        <TranslateTransform x:Name="PizzaTrans" X="0"/>
                    </Control.RenderTransform>
                    <Control.Effect>
                        <DropShadowEffect Color="Black" BlurRadius="10" ShadowDepth="5" Opacity="0.4"/>
                    </Control.Effect>
                </Control>
            </Canvas>

            <Path Data="M 0,500 L 50,500 L 50,200 A 350,150 0 0 1 750,200 L 750,500 L 800,500 L 800,0 L 0,0 Z" 
                  Fill="#3E2723" Stretch="Fill">
                <Path.Effect>
                    <DropShadowEffect Color="Black" BlurRadius="20"/>
                </Path.Effect>
            </Path>

            <TextBlock x:Name="txtStatus" Text="READY..." Foreground="White" 
                       FontSize="40" FontWeight="Black" HorizontalAlignment="Center" VerticalAlignment="Top" Margin="0,100,0,0" Opacity="0">
                <TextBlock.Effect>
                    <DropShadowEffect Color="Black" ShadowDepth="0" BlurRadius="10"/>
                </TextBlock.Effect>
            </TextBlock>
        </Grid>
    </Grid>
</UserControl>