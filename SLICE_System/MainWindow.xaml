<Window x:Class="SLICE_System.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:fa="http://schemas.fontawesome.io/icons/"
        Title="S.L.I.C.E. Enterprise" 
        WindowState="Maximized" WindowStyle="None" ResizeMode="NoResize"
        Background="Black" FontFamily="Segoe UI">

    <WindowChrome.WindowChrome>
        <WindowChrome CaptionHeight="0" ResizeBorderThickness="0" CornerRadius="0" GlassFrameThickness="0"/>
    </WindowChrome.WindowChrome>

    <Window.Resources>
        <Color x:Key="OvenDark">#1A0505</Color>
        <Color x:Key="OvenRed">#922B21</Color>
        <Color x:Key="PizzaOrange">#E67E22</Color>
        <SolidColorBrush x:Key="PrimaryAccent" Color="{StaticResource PizzaOrange}"/>
        <SolidColorBrush x:Key="TextGhost" Color="#95A5A6"/>

        <Style TargetType="Button" x:Key="MenuButtonStyle">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="#BDC3C7"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Height" Value="50"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Margin" Value="10,2"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Grid>
                            <Border x:Name="bdr" CornerRadius="8" Background="{TemplateBinding Background}" Opacity="0"/>
                            <Grid Margin="15,0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="40"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <ContentPresenter Grid.Column="0" ContentSource="Tag" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                <TextBlock Grid.Column="1" Text="{TemplateBinding Content}" VerticalAlignment="Center" Margin="10,0,0,0"/>
                            </Grid>
                            <Rectangle x:Name="indicator" Width="4" Height="24" HorizontalAlignment="Left" 
                                       Fill="{StaticResource PrimaryAccent}" RadiusX="2" RadiusY="2" 
                                       Margin="5,0,0,0" Opacity="0" RenderTransformOrigin="0.5,0.5">
                                <Rectangle.RenderTransform>
                                    <ScaleTransform ScaleY="0"/>
                                </Rectangle.RenderTransform>
                            </Rectangle>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="bdr" Property="Background" Value="White"/>
                                <Setter TargetName="bdr" Property="Opacity" Value="0.1"/>
                                <Setter Property="Foreground" Value="White"/>
                                <Trigger.EnterActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="indicator" Storyboard.TargetProperty="Opacity" To="1" Duration="0:0:0.2"/>
                                            <DoubleAnimation Storyboard.TargetName="indicator" Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)" To="1" Duration="0:0:0.2"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.EnterActions>
                                <Trigger.ExitActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="indicator" Storyboard.TargetProperty="Opacity" To="0" Duration="0:0:0.2"/>
                                            <DoubleAnimation Storyboard.TargetName="indicator" Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)" To="0" Duration="0:0:0.2"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.ExitActions>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="Button" x:Key="WinBtn">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="#7F8C8D"/>
            <Setter Property="Width" Value="50"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="bdr" Background="{TemplateBinding Background}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="bdr" Property="Background" Value="#EEE"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style TargetType="Button" x:Key="CloseBtn" BasedOn="{StaticResource WinBtn}">
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#E74C3C"/>
                    <Setter Property="Foreground" Value="White"/>
                </Trigger>
            </Style.Triggers>
        </Style>
    </Window.Resources>

    <Border Background="#F4F6F7">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="280"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <Grid Grid.Column="0">
                <Grid.Background>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                        <GradientStop Color="#2C0A06" Offset="0"/>
                        <GradientStop Color="#922B21" Offset="1"/>
                    </LinearGradientBrush>
                </Grid.Background>

                <Canvas ClipToBounds="True">
                    <Canvas.Triggers>
                        <EventTrigger RoutedEvent="Canvas.Loaded">
                            <BeginStoryboard>
                                <Storyboard RepeatBehavior="Forever">
                                    <DoubleAnimation Storyboard.TargetName="P1" Storyboard.TargetProperty="(Canvas.Top)" From="1200" To="-100" Duration="0:0:25"/>
                                    <DoubleAnimation Storyboard.TargetName="P1" Storyboard.TargetProperty="Opacity" From="0.2" To="0" Duration="0:0:25"/>
                                    <DoubleAnimation Storyboard.TargetName="P2" Storyboard.TargetProperty="(Canvas.Top)" From="1200" To="-100" Duration="0:0:18" BeginTime="0:0:5"/>
                                    <DoubleAnimation Storyboard.TargetName="P2" Storyboard.TargetProperty="Opacity" From="0.15" To="0" Duration="0:0:18" BeginTime="0:0:5"/>
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>
                    </Canvas.Triggers>
                    <Ellipse x:Name="P1" Width="150" Height="150" Fill="#E67E22" Opacity="0.1" Canvas.Left="-40">
                        <Ellipse.Effect>
                            <BlurEffect Radius="50"/>
                        </Ellipse.Effect>
                    </Ellipse>
                    <Ellipse x:Name="P2" Width="80" Height="80" Fill="#F1C40F" Opacity="0.1" Canvas.Right="30">
                        <Ellipse.Effect>
                            <BlurEffect Radius="30"/>
                        </Ellipse.Effect>
                    </Ellipse>
                </Canvas>

                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Row="0" Margin="0,30,0,30">
                        <Image Source="/Assets/Logo.png" Height="90" Margin="0,0,0,10"
                               RenderOptions.BitmapScalingMode="HighQuality" HorizontalAlignment="Center">
                            <Image.Effect>
                                <DropShadowEffect BlurRadius="15" Color="#E67E22" ShadowDepth="0" Opacity="0.5"/>
                            </Image.Effect>
                        </Image>
                        <TextBlock Text="S.L.I.C.E." Foreground="White" FontSize="28" FontWeight="Black" HorizontalAlignment="Center"/>
                        <TextBlock Text="ENTERPRISE" Foreground="{StaticResource TextGhost}" FontSize="11" FontWeight="Bold" HorizontalAlignment="Center"/>
                    </StackPanel>

                    <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Hidden" PanningMode="VerticalOnly">
                        <StackPanel Margin="10,0">

                            <StackPanel x:Name="Grp_Dash">
                                <TextBlock Text="DASHBOARD" Foreground="{StaticResource TextGhost}" FontSize="11" FontWeight="Bold" Margin="25,10,0,8" Opacity="0.7"/>
                                <Button x:Name="Btn_Dashboard" Content="Overview" Style="{StaticResource MenuButtonStyle}" Click="Nav_Dashboard_Click">
                                    <Button.Tag>
                                        <fa:FontAwesome Icon="Dashboard" FontSize="16" Foreground="White"/>
                                    </Button.Tag>
                                </Button>
                            </StackPanel>

                            <StackPanel x:Name="Grp_Ops">
                                <TextBlock Text="OPERATIONS" Foreground="{StaticResource TextGhost}" FontSize="11" FontWeight="Bold" Margin="25,25,0,8" Opacity="0.7"/>

                                <Button x:Name="Btn_Incoming" Content="Incoming Orders" Style="{StaticResource MenuButtonStyle}" Click="Nav_Incoming_Click">
                                    <Button.Tag>
                                        <fa:FontAwesome Icon="Inbox" FontSize="16" Foreground="White"/>
                                    </Button.Tag>
                                </Button>
                                <Button x:Name="Btn_MyInventory" Content="My Inventory" Style="{StaticResource MenuButtonStyle}" Click="Nav_MyStock_Click">
                                    <Button.Tag>
                                        <fa:FontAwesome Icon="Cubes" FontSize="16" Foreground="White"/>
                                    </Button.Tag>
                                </Button>
                                <Button x:Name="Btn_RequestStock" Content="Request Stock" Style="{StaticResource MenuButtonStyle}" Click="Nav_RequestStock_Click">
                                    <Button.Tag>
                                        <fa:FontAwesome Icon="ShoppingBasket" FontSize="16" Foreground="White"/>
                                    </Button.Tag>
                                </Button>
                                <Button x:Name="Btn_Sales" Content="Counter" Style="{StaticResource MenuButtonStyle}" Click="Nav_Sales_Click">
                                    <Button.Tag>
                                        <fa:FontAwesome Icon="Desktop" FontSize="16" Foreground="White"/>
                                    </Button.Tag>
                                </Button>
                                <Button x:Name="Btn_Approve" Content="Approve Requests" Style="{StaticResource MenuButtonStyle}" Click="Nav_ApproveRequests_Click">
                                    <Button.Tag>
                                        <fa:FontAwesome Icon="CheckSquare" FontSize="16" Foreground="White"/>
                                    </Button.Tag>
                                </Button>
                                <Button x:Name="Btn_Waste" Content="Waste Tracker" Style="{StaticResource MenuButtonStyle}" Click="Nav_Waste_Click">
                                    <Button.Tag>
                                        <fa:FontAwesome Icon="Trash" FontSize="16" Foreground="White"/>
                                    </Button.Tag>
                                </Button>
                                <Button x:Name="Btn_Recon" Content="Reconciliation" Style="{StaticResource MenuButtonStyle}" Click="Nav_Recon_Click">
                                    <Button.Tag>
                                        <fa:FontAwesome Icon="BalanceScale" FontSize="16" Foreground="White"/>
                                    </Button.Tag>
                                </Button>
                            </StackPanel>

                            <StackPanel x:Name="Grp_Admin">
                                <TextBlock Text="MANAGEMENT" Foreground="{StaticResource TextGhost}" FontSize="11" FontWeight="Bold" Margin="25,25,0,8" Opacity="0.7"/>

                                <Button x:Name="Btn_Menu" Content="Menu Registry" Style="{StaticResource MenuButtonStyle}" Click="Nav_Menu_Click">
                                    <Button.Tag>
                                        <fa:FontAwesome Icon="Book" FontSize="16" Foreground="White"/>
                                    </Button.Tag>
                                </Button>
                                <Button x:Name="Btn_Inventory" Content="Global Inventory" Style="{StaticResource MenuButtonStyle}" Click="Nav_Inventory_Click">
                                    <Button.Tag>
                                        <fa:FontAwesome Icon="Globe" FontSize="16" Foreground="White"/>
                                    </Button.Tag>
                                </Button>

                                <Button x:Name="Btn_Finance" Content="Financial Ledger" Style="{StaticResource MenuButtonStyle}" Click="Nav_Finance_Click">
                                    <Button.Tag>
                                        <fa:FontAwesome Icon="LineChart" FontSize="16" Foreground="White"/>
                                    </Button.Tag>
                                </Button>

                                <Button x:Name="Btn_Users" Content="Users &amp; Roles" Style="{StaticResource MenuButtonStyle}" Click="Nav_Users_Click">
                                    <Button.Tag>
                                        <fa:FontAwesome Icon="Users" FontSize="16" Foreground="White"/>
                                    </Button.Tag>
                                </Button>
                                <Button x:Name="Btn_Audit" Content="Audit Logs" Style="{StaticResource MenuButtonStyle}" Click="Nav_Audit_Click">
                                    <Button.Tag>
                                        <fa:FontAwesome Icon="History" FontSize="16" Foreground="White"/>
                                    </Button.Tag>
                                </Button>
                            </StackPanel>
                        </StackPanel>
                    </ScrollViewer>

                    <Border Grid.Row="2" Background="#20000000" Padding="20">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <Border Grid.Column="0" Width="42" Height="42" CornerRadius="21" Background="{StaticResource PrimaryAccent}">
                                <TextBlock Text="U" Foreground="White" FontWeight="Bold" FontSize="18" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Border>

                            <StackPanel Grid.Column="1" VerticalAlignment="Center" Margin="12,0,0,0">
                                <TextBlock x:Name="txtUserBadge" Text="User Name" Foreground="White" FontWeight="SemiBold" FontSize="13"/>
                                <TextBlock x:Name="txtUserRole" Text="Role" Foreground="{StaticResource TextGhost}" FontSize="11"/>
                            </StackPanel>

                            <Button Grid.Column="2" Background="Transparent" BorderThickness="0" Cursor="Hand" Click="Logout_Click" ToolTip="Sign Out">
                                <fa:FontAwesome Icon="SignOut" FontSize="20" Foreground="#E74C3C"/>
                            </Button>
                        </Grid>
                    </Border>
                </Grid>
            </Grid>

            <Grid Grid.Column="1">
                <Grid.RowDefinitions>
                    <RowDefinition Height="60"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <Grid Grid.Row="0" Background="White">
                    <Grid.Effect>
                        <DropShadowEffect Color="#DDD" BlurRadius="10" ShadowDepth="2" Opacity="0.3"/>
                    </Grid.Effect>
                    <Grid Margin="30,0">
                        <StackPanel VerticalAlignment="Center">
                            <TextBlock x:Name="txtPageTitle" Text="Overview" FontSize="22" FontWeight="Bold" Foreground="#2C3E50"/>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center">
                            <Button Content="?" Click="Help_Click" Width="36" Height="36" Background="#F4F6F6" BorderThickness="0" 
                                    Foreground="#7F8C8D" FontWeight="Bold" Cursor="Hand" Margin="0,0,20,0">
                                <Button.Resources>
                                    <Style TargetType="Border">
                                        <Setter Property="CornerRadius" Value="18"/>
                                    </Style>
                                </Button.Resources>
                            </Button>
                            <StackPanel Orientation="Horizontal">
                                <Button Content="—" Style="{StaticResource WinBtn}" Click="Minimize_Click"/>
                                <Button Content="✕" Style="{StaticResource CloseBtn}" Click="Close_Click"/>
                            </StackPanel>
                        </StackPanel>
                    </Grid>
                </Grid>

                <Border x:Name="MainContentFrame" Grid.Row="1" Margin="30" Background="White" CornerRadius="12">
                    <Border.Effect>
                        <DropShadowEffect Color="#BDC3C7" BlurRadius="20" ShadowDepth="5" Opacity="0.2"/>
                    </Border.Effect>
                    <Border x:Name="MainContentArea" ClipToBounds="True"/>
                </Border>
            </Grid>
        </Grid>
    </Border>
</Window>